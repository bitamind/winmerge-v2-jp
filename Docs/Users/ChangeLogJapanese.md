---
title: 変更履歴
---

### 2024/04/29 2.16.40-jp-2

#### 全般

- ファイルまたはフォルダーの選択ウインドウを表示した後、WinMergeを終了させてもプロセスが残りっぱなしになることがある問題を修正した。

#### ファイル比較

- TypeScript ファイルにJavaScriptシンタックスハイライトを適用するようにした。 [(PR#2298)](https://github.com/WinMerge/winmerge/pull/2298)(PRをいただきました。ありがとうございます。)
- F# シンタックスハイライトの改善。 [(PR#2303)](https://github.com/WinMerge/winmerge/pull/2303)[(PR#2309)](https://github.com/WinMerge/winmerge/pull/2309)(PRをいただきました。ありがとうございます。)

#### テーブル比較

- 行末近くの文字にカレットが移動できないことがある問題を修正した。

#### フォルダー比較

- ステータスバーをクリックするとファイル比較方法やファイルフィルターを変更できるようにした。

#### HTMLレポート

- 不具合修正: ファイル名に#を含む画像の比較レポートで画像が表示されない問題を修正した。[osdn#46082](https://osdn.net/projects/winmerge-jp/ticket/78171)

#### プラグイン

- AIConvertText プラグインを追加した。 [(PR#2298)](https://github.com/WinMerge/winmerge/pull/2258) (OpenAI API を使用して、指示した通りテキストを変換します。利用には OpenAI API Key の取得が必要になります）
- Apache Tika 2.9.2 に更新した。
- PlantUML 1.2024.4 に更新した。
- md4c 0.5.2 に更新した。
- jq 1.7.1 に更新した。

#### アーカイブサポート

- 7-Zip 24.05 に更新した。

#### その他

- GitHub Actions CI の更新。 [(PR#2304)](https://github.com/WinMerge/winmerge/pull/2304)(PRをいただきました。ありがとうございます。)
- Typo 修正。 [(PR#2305)](https://github.com/WinMerge/winmerge/pull/2305)(PRをいただきました。ありがとうございます。)
- Boost 1.85 に更新。
- POCO C++ Libraries 1.13.3 に更新。

### 2024/04/29 2.16.40-jp-1

#### 全般

- 不具合修正: Wine上で発生する不具合をいくつか修正した。

#### ファイル比較

- 不具合修正: テキストを選択状態にした後に置換すると正しく置換されないことがある問題を修正した。 [(#2279)](https://github.com/WinMerge/winmerge/issues/2279)
- F# シンタックスハイライトを追加した。 [(PR#2298)](https://github.com/WinMerge/winmerge/pull/2298)(PRをいただきました。ありがとうございます。)

#### オプションダイアログ

- "オプション (エディター > 一般)" ダイアログに "デフォルト" ボタンを追加した。 [(PR #2283)](https://github.com/WinMerge/winmerge/pull/2283)(PRをいただきました。ありがとうございます。)
- "オプション > 比較 > テーブル" 内の "デフォルト" ボタンの位置を調整した。 [(PR #2295)](https://github.com/WinMerge/winmerge/pull/2295)(PRをいただきました。ありがとうございます。)

#### プラグイン

- 不具合修正: CompareMSExcelFiles.sct: 'ワークブックの情報を複数ファイルに展開する' オプションが有効になっている場合、10枚以上のシートを含む .xlsx ファイルのすべてのシートが比較されない問題を修正した。（このバグはバージョン2.16.39 ベータで発生しました。)
- 不具合修正: insert datetime.sct: 地域によっては正常に動作しなかった問題を修正した。（このバグはバージョン2.16.39 ベータで発生しました。）
- 不具合修正: ファイルとフォルダーの選択ウィンドウが表示されているときにプラグインを再読み込みすると "Catastrophic failure" メッセージボックスが表示される可能性がある問題を修正した。
- GUI にプラグインパイプラインのエイリアスまたは単純なプラグインを登録できるようにした。 [(PR #2257)](https://github.com/WinMerge/winmerge/pull/2257)

#### インストーラー

- 不具合修正: 不具合修正: インストールの最後（最後のダイアログボックス）でのフランス語のエンコーディングの問題を修正した。 [(#2272)](https://github.com/WinMerge/winmerge/issues/2272)

### 2024/03/29 2.16.38-jp-3

#### 全般

- 不具合修正: ヘッダーバーに1文字だけを入力するとクラッシュすることがある問題を修正した。

#### ファイル比較

- 不具合修正: クラッシュする可能性がある箇所を修正した。
- 不具合修正: 元のファイル名がドットで始まる場合、.bak ファイルの作成が失敗する問題を修正した。[(#2217)](https://github.com/WinMerge/winmerge/issues/2217)
- Java シンタックスハイライトのキーワードを更新した。 [(PR#2215)](https://github.com/WinMerge/winmerge/pull/2215)(PRをいただきました。ありがとうございます。)
- テキストを選択した状態で「右にコピー」等で別ペインにコピーする際の粒度を「差異ブロック」、「行内差異」、「行」、「文字」から選択できるようにした。
  (オプションウインドウの[エディター/比較/マージ]カテゴリの[選択された差異のコピー粒度]で選択できます)[(PR#2224)](https://github.com/WinMerge/winmerge/pull/2224)
- 「右側へコピー」または「左側へコピー」でコピーするテキストをプラグインで加工できるようにした。
   ([プラグイン]→[コピー時適用エディタースクリプト]メニューでプラグインを選択できます) [(PR#2238)](https://github.com/WinMerge/winmerge/pull/2238)
- PHP シンタックスハイライトのキーワードを更新した。 [(PR#2265)](https://github.com/WinMerge/winmerge/pull/2265)(PRをいただきました。ありがとうございます。)

#### Webページ比較

- 不具合修正: ロケーションペインで[イベント同期]等の設定を変更しても、次回起動時に反映されない問題を修正した。 [(#2248)](https://github.com/WinMerge/winmerge/issues/2248)

#### ファイルまたはフォルダーの選択ウインドウ

- アーカイブファイルと通常ファイルを指定した場合に比較ボタンが押せない問題を修正した。

#### HTMLレポート

- 不具合修正: HTML レポートの左ペインと右ペインの幅が等しくないことがある問題を修正した。
- 不具合修正: ヘッダー バーに設定されたキャプションが HTML レポートに適用されない問題を修正した。

#### プラグイン

- 不具合修正: 展開プラグインでエラーが発生したとき、クラッシュする問題を修正した。
- VBScriptが非推奨となったため、プラグインをJScriptで書きなおした。 [(PR#2217)](https://github.com/WinMerge/winmerge/pull/2217)
- 置換フィルターのパターンを使用して置換する機能を置換プラグインに追加した。 (Replace プラグインに -s オプションを指定します) [(PR#2252)](https://github.com/WinMerge/winmerge/pull/2252)
- PrediffLineFilter プラグイン正規表現の正常性チェックを追加した。

#### インストーラー

- 不具合修正: 前回のインストールで /noicons オプションが指定されていた場合、次回のインストール時に以前のスタート メニューを削除するように求めるメッセージ ボックスが表示されてしまう問題を修正した。[(#2206)](https://github.com/WinMerge/winmerge/issues/2206)

#### アーカイブサポート

- ファイル名を暗号化して圧縮した 7z ファイルを比較できない問題を修正した。[(#2225)](https://github.com/WinMerge/winmerge/issues/2225)


### 2024/01/29 2.16.38-jp-1

#### ファイル比較

- 不具合修正: コードページダイアログで右側のBOMを変更しても反映されない問題を修正した。
- C++ シンタックスハイライトのキーワードを更新した。 [(PR#2166)](https://github.com/WinMerge/winmerge/pull/2166)(PRをいただきました。ありがとうございます。)

#### Webページ比較

- 比較中はステータスバーに「比較しています...」を表示するようにした。
- ロケーションペインを追加した。 [(PR#2160)](https://github.com/WinMerge/winmerge/pull/2160)

#### フォルダー比較

- [列の表示]ダイアログのボタンの活性/非活性制御の改善。 [(PR#2154)](https://github.com/WinMerge/winmerge/pull/2154)(PRをいただきました。ありがとうございます。)

#### プラグイン

- 不具合修正: 以下のように二重引用符を文字列が `/unpacker` コマンドライン引数に指定された場合に正しく解釈されない問題を修正した。
    
    `/unpacker "Replace ""a"" ""b"""`

### 2023/12/29 2.16.36-jp-2

#### ファイル比較

- 不具合修正: 「行を右端で折り返す」が有効な場合、ロケーションペインをクリックしたときにスクロール位置が予期しない位置になる問題を修正した。
- 不具合修正: ステータスバーをクリックしてもエンコーディング等のメニューが表示されない問題を修正した。  [(#2129)](https://github.com/WinMerge/winmerge/issues/2129)
- 不具合修正: 正規表現検索で `\r` を使用してもCRを見つけられない問題を修正した。
- 新しい C# のキーワードを追加した。 [(PR#2136)](https://github.com/WinMerge/winmerge/pull/2136)(PRをいただきました。ありがとうございます。)

#### フォルダー比較

- 不具合修正: バイナリコンテンツ比較方法でフォルダ比較した場合、空のファイルがコピーできない問題を修正した。[(#2146)](https://github.com/WinMerge/winmerge/issues/2146)

#### バイナリ比較

- 不具合修正: ファイルの末尾のデータが置換できない問題を修正した。

#### 画像比較

- 不具合修正: 新規作成で表示されたペインのテキストを名前を付けて保存で保存してもヘッダーにファイル名が表示されない問題を修正した。

#### Webページ比較

- 不具合修正: "他のアプリケーションがファイル ... を更新しました。ファイルを開きなおしますか?"というメッセージボックスが、`file://` 形式のURLを比較する際に表示される問題を修正した。
- イベント同期機能の改善 [(winmerge/winwebdiff#4)](https://github.com/WinMerge/winwebdiff/pull/4)

### 2023/11/29 2.16.36-jp-1

#### ファイル比較

- 不具合修正: 3つのファイルを比較する際に、"左側/右側にコピーして次に進む"のクリックで、1つ差異をスキップすることがある問題を修正した。 [(#1234)](https://github.com/WinMerge/winmerge/issues/1234)
- 不具合修正: 印刷プレビューのボタンが翻訳できない問題を修正した。 [(#2083)](https://github.com/WinMerge/winmerge/issues/2083), [(#2079)](https://github.com/WinMerge/winmerge/issues/2079)
- 不具合修正: ウィンドウがリサイズされたときにヘッダーバーに設定されたキャプションが復元される問題を修正した。

#### バイナリ比較

- 不具合修正: 32ビット版WinMergeで次の差異に移動するとファイルの末尾に移動してしまうことがあった。[(#2081)](https://github.com/WinMerge/winmerge/issues/2081))

#### 画像比較

- 不具合修正: [MDI子ウィンドウが１つしかない場合、メインウインドウを閉じる]が選択されているにもかかわらず、'Esc' キーで子ウインドウのみが閉じるのを修正した。 [(#2084)](https://github.com/WinMerge/winmerge/issues/2084)
- 不具合修正: 複数ページある画像ファイルが読み取り専用の場合、単一ページの画像として扱われる問題を修正した。 [(winmerge/winimerge#32)](https://github.com/winmerge/winimerge/issues/32))

#### Webページ比較

- 不具合修正: [MDI子ウィンドウが１つしかない場合、メインウインドウを閉じる]が選択されているにもかかわらず、'Esc' キーで子ウインドウのみが閉じるのを修正した。 [(#2084)](https://github.com/WinMerge/winmerge/issues/2084)
- 片方のペインでスクロールやクリック、入力をしたとき、他方のペインでも同様に行われるようにイベント同期機能を追加 [(PR #2111)](https://github.com/WinMerge/winmerge/pull/2111)
- 差異が多い場合に極端に遅くなるのを改善

#### フォルダ比較

- 不具合修正: Diffアルゴリズムがdefaultの場合、「改行文字の違いを無視する」等の設定が無視されていた問題を修正した。 [(#2080)](https://github.com/WinMerge/winmerge/issues/2080), [(#2099)](https://github.com/WinMerge/winmerge/issues/2099)

#### ファイルフィルター

- 不具合修正: ファイルフィルター ダイアログで&lt;なし&gt;が選択されているとき等ボタンを押しても効果がないときにボタンが押せないようにした。 [(PR #2118)](https://github.com/WinMerge/winmerge/pull/2118)(PRをいただきました。ありがとうございます。)
- 不具合修正: フィルターダイアログでファイルフィルターが選択されていない場合に、"[F]" がファイルフィルターとして設定される問題を修正した。

#### インストーラ

- 不具合修正: ユーザ毎インストーラ(WinMerge-x.x.x-x64-PerUser-Setup.exe)でインストールするとき、一部誤ったレジストリパスに書き込みが行われていたのを修正した [(PR #2086)](https://github.com/WinMerge/winmerge/pull/2086)(PRをいただきました。ありがとうございます。)
- 不具合修正: インストール先フォルダ名にシングルクォーテーション(')が含まれると、Windows11用のシェルエクステンションの登録に失敗する問題を修正した。 [(#2109)](https://github.com/WinMerge/winmerge/issues/2109)

### 2023/10/29 2.16.34-jp-1

#### ファイル比較

- コマンドライン引数にパスとして `NUL` や `\\.\NUL` を指定しても比較できるようにした。 [(PR #2056)](https://github.com/WinMerge/winmerge/pull/2056)
- ツールバーアイコン[現在の行内差異]の説明に「(F4)」を追加した。 [(#2050)](https://github.com/WinMerge/winmerge/issues/2050)
- Diff アルゴリズムが default 以外に設定され、最終行の EOL が片方のファイルには存在するが他方のファイルには存在する場合にクラッシュすることがある問題を修正した。

#### フォルダー比較

- 不具合修正: ツリーモードが無効の場合、片方しか存在しないフォルダが表示されないことがある。 [(#2046)](https://github.com/WinMerge/winmerge/issues/2046)

#### 行フィルター

- 行フィルターのウインドウのボタン制御を追加した。[(PR #2047)](https://github.com/WinMerge/winmerge/pull/2047)(PRをいただきました。ありがとうございます。)

#### 置換フィルター

- 置換フィルターのウインドウのボタン制御を追加した。 [(PR #2068)](https://github.com/WinMerge/winmerge/pull/2068)(PRをいただきました。ありがとうございます。)

#### 内部処理

- CMDIChildWnd のハンドリングに関する軽微な修正。 (PR #2043)(PRをいただきました。ありがとうございます。)

### 2023/09/29 2.16.32-jp-3

#### ファイル比較

- 不具合修正: "コメントの違いを無視する" を有効にしても、片側のみ存在するインラインコメントが無視できないことがある。[(#2008)](https://github.com/WinMerge/winmerge/issues/2008)

#### テーブル比較

- ヘッダー部のコンテキストメニューの[最初の行をヘッダーとして使用する] がチェックされている場合、最初の行が非表示の場合でも、ヘッダーは最初の行を表示するようにした。

#### 画像比較

- 不具合修正: ファイルを保存する際、ファイル名に .png が付加されてしまっていたのを修正した。

#### フォルダ比較

- 不具合修正: ファイル比較方法が "フルコンテンツ" または "クイックコンテンツ" でファイルサイズが64MBを超える場合、差異、左/右EOL列などが未定義の値として表示される問題を修正した。
- 不具合修正: クイックコンテンツ比較方法を使用している場合、左/右EOL列の値が正しく表示されない場合がある問題を修正した。
- フォルダ比較にデフォルト以外のDiffアルゴリズム(patience、histogramなど)を適用できるようにした。[(PR #2015)](https://github.com/WinMerge/winmerge/pull/2015)[(#2002)](https://github.com/WinMerge/winmerge/issues/2002)
- コンテキストメニューに[両側シェルメニュー]を追加した。[(#1986)](https://github.com/WinMerge/winmerge/issues/1986)[(PR #2021)](https://github.com/WinMerge/winmerge/pull/2021)

#### 行/置換フィルター

- 行フィルターや置換フィルターでフィルタされるはずの行とフィルタされない行が隣接している場合、フィルタされるはずの行がフィルタされないのを改善した。[(PR #2032)](https://github.com/WinMerge/winmerge/pull/2000)[(#796)](https://github.com/WinMerge/winmerge/issues/796)[(#1620)](https://github.com/WinMerge/winmerge/issues/1620)

#### プラグイン

- jqをバージョン1.7に更新した。

#### 内部処理

- stdコンテナ内の挿入をreserveを使用して最適化した[(PR #2000)](https://github.com/WinMerge/winmerge/pull/2000)(PRをいただきました。ありがとうございます。)
- CMDIChildWnd の処理の軽微な修正[(PR #2049)](https://github.com/WinMerge/winmerge/pull/2049)(PRをいただきました。ありがとうございます。)

### 2023/08/29 2.16.32-jp-2

#### 全般

- 起動直後のメモリ使用量とユーザオブジェクトの使用量を微量だが削減した。

#### ファイル比較

- 不具合修正: 一行しかないファイルではAlt+Downキー等で差異に移動できなかった問題を修正した。[(#1972)](https://github.com/WinMerge/winmerge/issues/1972)
- 不具合修正: ダブルクリックで現在の差異を変更したとき、「右側へコピー」または「左側コピー」アイコン等が有効にならないことがある問題を修正した。[(#1980)](https://github.com/WinMerge/winmerge/issues/1980)
- 不具合修正: コマンドラインオプション `/o` (保存先ファイルの指定) を使用して起動したした場合、起動したウインドウの別タブで開いたファイルを保存すると別タブにもかかわらず `/o` で指定したファイルに保存されてしまう問題を修正した。[(#1988)](https://github.com/WinMerge/winmerge/issues/1988)
- Rust の最近のバージョンのキーワードがシンタックスハイライトされるようにした。[(PR #1998)](https://github.com/WinMerge/winmerge/pull/1998)(PRいただきました。ありがとうございます。)

#### テーブル比較

- テーブル比較ウインドウからレポート作成した場合、表形式でレポートが作成されるようにした。[(PR #1983)](https://github.com/WinMerge/winmerge/pull/1983)

#### フォルダ比較

- 不具合修正: バイナリコンテンツ比較方法でシンボリックリンクが正しく比較できない問題を修正した。[(#1976)](https://github.com/WinMerge/winmerge/issues/1976)
- [表示]→[サブフォルダーの展開]メニューから差異があるフォルダまたは同一のフォルダのみ展開できるようにした。また、オプションウインドウの[比較/フォルダ]カテゴリに比較後、差異があるフォルダまたは同一のフォルダのみ自動的に展開できるようにする設定を追加した。[(PR #1964)](https://github.com/WinMerge/winmerge/pull/1964)
- フォルダ比較に30秒以上時間がかかった場合、そのウインドウを閉じるとき確認メッセージを表示するようにした。

#### 置換フィルター

- 不具合修正: 空文字列にマッチするパターンを指定された場合、ハングアップしてしまう問題を修正した。

#### オプションダイアログ

- [シェル統合]カテゴリで[Windows 11 以降用シェル拡張を登録]ボタン押下で登録に失敗した場合、エラーメッセージを表示するウインドウを閉じないようにした。
  (インターネットに接続されていない Windows 11 環境ではCertumのルート証明書がないため、登録に失敗することがあります。その場合は、Certum Trusted Network CA2 のルート証明書をインストールしてみてください。)

#### プラグイン

- 不具合修正: プラグインウインドウで Apache Tikaプラグインを無効にしても無効にならない問題を修正した。

### 2023/07/29 2.16.32-jp-1

#### 全般

- 不具合修正: INIファイルをインポートしたとき置換フィルタなどが正しく復元されないことがある問題を修正した。[(#1925)](https://github.com/WinMerge/winmerge/issues/1925)

#### ファイル比較

- 不具合修正: 比較するファイルのパスが長すぎると保存できない問題を修正した。[(#1923)](https://github.com/WinMerge/winmerge/issues/1923)
- 不具合修正: 外部のアプリで比較中の2つのファイルを一致させた後WinMergeに戻った時、「選択されたファイルは同一です。」が二度表示されるのを修正した。[(#1902)](https://github.com/WinMerge/winmerge/issues/1902)
- Pythonの最近のバージョンのキーワードがシンタックスハイライトされるようにした。[(PR #1938)](https://github.com/WinMerge/winmerge/pull/1938)(PRいただきました。ありがとうございます。)

#### フォルダ比較

- 不具合修正: フォルダアイコンの左の ＜ をクリックすると不必要なスクロールが発生することがある問題を修正した。 [(#1915)](https://github.com/WinMerge/winmerge/issues/1915)
- フォルダ比較中に使用するCPUコアの数を変更できるようにした。[(#1945)](https://github.com/WinMerge/winmerge/pull/1945)

#### Webページ比較

- 比較結果をレポートに出力できるようにした。[(#1941)](https://github.com/WinMerge/winmerge/pull/1941)

### 2023/06/29 2.16.30-jp-4

#### 全般

- HTMLレポートのタイトル部分をスクロールしても表示し続ける様にした。[(PR #1892)](https://github.com/WinMerge/winmerge/pull/1892)(PRいただきました。ありがとうございます。)

#### ファイル比較

- 移動ダイアログに行番号の下限と上限を表示するようにした。[(PR #1896)](https://github.com/WinMerge/winmerge/pull/1896)(PRいただきました。ありがとうございます。)

#### フォルダ比較

- 不具合修正: クイックコンテンツ比較方法で比較したとき、フォルダ比較の結果とファイル比較結果の結果が異なることがある問題を修正した。[(#1882)](https://github.com/WinMerge/winmerge/issues/1882)

#### アーカイブサポート

- 7-Zip 23.01 に更新。 [(#1913)](https://github.com/WinMerge/winmerge/pull/1913)

#### プラグイン

- NANO-Antivirus で偽陽性検出されないように \*.sct ファイルの中で eval 関数を私用しないようにした。
- ApplyPatch: GNU patch のバージョンを 2.7.6-1 に更新。[(#1897)](https://github.com/WinMerge/winmerge/pull/1897)

#### コマンドライン

- `/r` コマンドラインオプションが指定されていなくても、オプションダイアログで「サブフォルダを含める」がチェックされていれば、フォルダを再帰的に比較するようにした。また、非再帰的なフォルダー比較のためのコマンドラインオプション `/r-` を追加した。[(#1914)](https://github.com/WinMerge/winmerge/pull/1914)


### 2023/05/29 2.16.30-jp-3

#### 全般

- 不具合修正: 置換フィルタの[置換後の文字列]に\rや\nを指定しても改行文字に置換されなかった。[(#1861)](https://github.com/WinMerge/winmerge/issues/1861)
- タスクバーのWinMergeアイコンのジャンプリストに[クリップボード比較]等のメニューを追加した。[(PR #1828)](https://github.com/WinMerge/winmerge/pull/1828)

#### ファイル比較

- 不具合修正: 移動ダイアログで行数を超える行番号を指定した場合、意図しない行に移動することがある問題を修正した。[(PR #1826)](https://github.com/WinMerge/winmerge/pull/1826)(PRいただきました。ありがとうございます。)
- 不具合修正: [改行文字の違いを無視する]を指定しているにもかかわらず、改行文字が異なる行の行末がハイライトされるのを修正した。[(#1838, PR #1849)](https://github.com/WinMerge/winmerge/pull/1849)
- [すべてを右側/左側にコピー]でメッセージボックスを表示するようにした。[(PR #1827)](https://github.com/WinMerge/winmerge/pull/1827)(PRいただきました。ありがとうございます。)

#### フォルダ比較

- 不具合修正: 下に表示される比較状況表示ウインドウの全項目数が、全桁表示されないことがあるのを修正した。 [(#1840)](https://github.com/WinMerge/winmerge/issues/1840)

#### プラグイン

- PrettifyJSON: jq のバージョンを 1.6 に更新。[(#1871)](https://github.com/WinMerge/winmerge/issues/1871)
- プラグイン関連のエラーメッセージを翻訳可能にした。[(#1873)](https://github.com/WinMerge/winmerge/issues/1873)(PRいただきました。ありがとうございます。)

#### インストーラ

- /noicons コマンドラインオプションを指定すると表示されることがあるメッセージボックスを抑制可能なメッセージボックスに変更した。[(#1852)](https://github.com/WinMerge/winmerge/issues/1852)


### 2023/04/29 2.16.30-jp-1

#### 全般

- 不具合修正: エクスポートされた ini ファイルを /inifile コマンドラインオプション等で使用する場合、差異等の色が黒になってしまう問題を修正した。[(#1799)](https://github.com/WinMerge/winmerge/issues/1799)
- 32ビット版のWinMergeU.exeのファイルサイズを削減した。

#### ファイル比較

- 不具合修正: vcxprojなどのXML形式のファイルがシンタックスハイライトされない問題を修正した。

#### 画像比較

- 不具合修正: タブを中ボタンでクリックするとクラッシュすることがある問題を修正した。[(#1785)](https://github.com/WinMerge/winmerge/issues/1785)
- 不具合修正: 変更した色距離閾値が次回WinMerge起動で0に戻ってしまう問題を修正した。
- 色距離閾値を442まで変更できるように修正した。[(winmerge/winimerge #29)](https://github.com/WinMerge/winimerge/issues/29)

#### ファイルフィルタ

- UTF-8で保存されているファイルフィルタでも機能するようにした。

#### オプションダイアログ

- 不具合修正: エクスポートした設定情報にプラグインの設定も含められるようにした。

#### プラグイン

- 不具合修正: プラグイン -> 手動展開メニューがチェックされている場合でもApplyPatchプラグインが機能するようにした。
- 不具合修正: 32ビットOSでCompareMSExcelFilesプラグイン等の設定ウィンドウが開けない問題を修正した。
- [プラグインの設定]ボタンを[プラグインの選択]ウィンドウに追加した。
- プラグインの設定ダイアログを翻訳可能にし、INIファイルにプラグインの設定を保存できるようにした。[(PR #1783)](https://github.com/WinMerge/winmerge/pull/1783)

#### コマンドライン

- 不具合修正: `/new` コマンドラインオプションを指定した場合、`/fr` オプションが無視される問題を修正した。
- 不具合修正: 自動マージ後に競合する行に移動しない問題を修正した。

#### プロジェクトファイル

- 不具合修正: プロジェクトファイル内のパスに環境変数が含まれるとプロジェクトファイルが開けない問題を修正した。[(#1793)](https://github.com/WinMerge/winmerge/issues/1793)

#### インストーラ

- 不具合修正: インストーラの「プログラムグループの指定」ページで、プログラムグループの名前を空にし、[プログラムグループを作成しない]のチェックを外すと、インストールに失敗する問題を修正した。[(#1802)](https://github.com/WinMerge/winmerge/issues/1802)

### 2023/03/29 2.16.28-jp-4

#### ファイル比較

- 不具合修正: 選択範囲の終点の位置よっては正しくインデントされないことがあるのを修正。[(#1740)](https://github.com/WinMerge/winmerge/issues/1740)
- デフォルト以外のDiffアルゴリズムの選択時の以下の問題を修正:
  - [改行文字の違いを無視する]が無効でも、空白の差分を無視するオプションが有効な場合、改行文字の差分が無視される。
  - [改行文字の違いを無視する]が有効でも、CRとCR+LFの差異が無視されない。
- MATLAB のシンタックスハイライトを追加。[(PR #1766)](https://github.com/WinMerge/winmerge/pull/1766)(PRいただきました。ありがとうございます。)
- 2つのファイルを比較する場合、移動ダイアログの[中央]ラジオボタンを無効にするようにした。[(PR #1779)](https://github.com/WinMerge/winmerge/pull/1779)(PRいただきました。ありがとうございます。)

#### テーブル比較

- テーブル比較ウィンドウの[表示]→[行を右端で折り返す]メニューを[折り返して全体を表示]に変更し、そのチェック状態がテキスト比較ウィンドウの同じメニュー項目とは別に保存されるようにした。[(osdn.net #47553)](https://osdn.net/projects/winmerge-jp/ticket/47553)
- CSVファイルのセパレーターをカンマからセミコロン等他の文字に変更できるようにした。

#### フォルダ比較

- F2キーまたは[名前の変更]メニュー選択時、拡張子部分が選択されないようにした。

#### 置換フィルタ

- 正規表現のチェックを外し、[単語単位で探す]にチェックを入れた場合、正しく動作しないのを修正。

#### コマンドライン

- 不具合修正: コマンドラインオプション /self-compare を使用して file.zip:Zone.Identifier:$DATA などの代替データストリームを比較した場合、クラッシュするのを修正。
- 不具合修正: パスを1つだけ指定して/tコマンドラインオプションを指定した場合にクラッシュする問題を修正。

#### インストーラ

- 64ビット版インストーラーにIgnoreLeadingLineNumbers.sctプラグインを追加。

### 2023/02/28 2.16.28-jp-3

#### フォルダ比較

- 不具合修正: 片方のファイルを削除しても日付やサイズ等の列が更新されないのを修正した。
- 2.16.28+-jp-1 で元に戻した以下の修正を再適用
	- ファイルフィルタで `f: dir\file` のようにディレクトリとファイルの組み合わせを指定できるようにした。 [(#1646, #1644)](https://github.com/WinMerge/winmerge/issues/1644)
- コンテキストメニューの[移動]に[左側から右側]、または[右側から左側]を追加した。[(PR #1732)](https://github.com/WinMerge/winmerge/pull/1732)

#### プラグイン

- IgnoreLeadingLineNumbers プラグインの処理速度改善。[(#1715)](https://github.com/WinMerge/winmerge/issues/1715)
   (IgnoreLeadingLineNumbers.dll から IgnoreLeadingLineNumbers.sct にファイル名を変更しました。)

#### シェルエクステンション

- 不具合修正: Windows 11 22H2 以降 拡張メニューをクリックしてもWinMergeが起動しないことがある問題を修正。[(#1661)](https://github.com/WinMerge/winmerge/issues/1661)
- 「形式を指定して比較」メニューをオプションダイアログの[シェル統合]カテゴリから追加できるようにした。

#### インストーラ

- ExplorerがシェルエクステンションのDLLを使用中の時、インストーラからExplorerを再起動してもインストールに成功しないことがある問題を修正した。

### 2023/02/15 2.16.28-jp-1

#### フォルダ比較

- 不具合修正: 拡張子のないファイルがフォルダ名に「.」を含むフォルダに存在する場合、そのファイルが比較されない問題を修正した。

### 2023/01/29 2.16.26-jp-1

### 一般

- ヘッダーバーに特定のパス名が設定されるとクラッシュすることがある問題を修正。

#### ファイル比較

- 不具合修正: ほとんどの行に違いがあると、テキストの選択が非常に遅くなるのを改善。[(osdn.net #46407)](https://osdn.net/projects/winmerge-jp/ticket/46407)
- ファイルパスバーで編集する時、Ctr+Vキーでテキストを貼り付けられるようにした。[(#1651)](https://github.com/WinMerge/winmerge/issues/1651)

#### フォルダ比較

- ファイルフィルタで `f: dir\file` のようにディレクトリとファイルの組み合わせを指定できるようにした。 [(#1646, #1644)](https://github.com/WinMerge/winmerge/issues/1644)
- 不具合修正: フィルヘッダーバーのメニューの[開く]が無効化されていたのを修正。
- 3フォルダ比較時、差異があるが2つのフォルダは一致していた場合、比較結果列に2つが一致していることを表示するようにした。[(PR #1649)](https://github.com/WinMerge/winmerge/pull/1649)(PRいただきました。ありがとうございます。)
- コンテキストメニュー→[左/右側を開く]→[親フォルダを開く]を選択したとき、WinMergeで選択していたファイルがExplorerでも選択されるようにした。[(#1662)](https://github.com/WinMerge/winmerge/issues/1662)
- 3フォルダ比較で[表示]→[3方向比較]メニューがフォルダに対してできるようにした。[(PR #1683)](https://github.com/WinMerge/winmerge/pull/1683)(PRいただきました。ありがとうございます。)

#### バイナリ比較

- 不具合修正: フィルヘッダーバーのメニューの[開く]が無効化されていたのを修正。

#### Webページ比較

- 不具合修正: オプションダイアログの単語の差異の削除の色が使われていなかったのを修正。
- [数字を無視する]オプションが機能するようにした。

#### オプションダイアログ

- オプションダイアログの[比較>フォルダ]カテゴリの改善。[(PR #1645)](https://github.com/WinMerge/winmerge/pull/1645)(PRいただきました。ありがとうございます。)

#### プラグイン

- MarkdownファイルをHTMLに変換するプラグイン(PreviewMarkdown)を追加。[(PR #1641)](https://github.com/WinMerge/winmerge/pull/1641)
- PlantUMLのファイルを画像に変換するプラグイン(PreviewPlantUML)を追加。[(PR #1666)](https://github.com/WinMerge/winmerge/pull/1666)
- CompareMSExcelFiles: プラグインオプションウインドウに"ワークシートをHTMLとして保存して比較する"を追加。
- ApacheTika: Apache Tika のバージョンを 2.6.0 に更新。
- ApacheTika: もし、Java がインストールされていない場合、OpenJDK 19.0.2 をダウンロードして使用するようにした。

### 2022/12/29 2.16.24-jp-3

#### ファイル比較

- SQL のシンタックスハイライトを改善。 [(PR #1591, #1583)](https://github.com/WinMerge/winmerge/pull/1591)(PRいただきました。ありがとうございます。)
- Ctrl+Nキーで空のファイル比較ウインドウを表示した時、左側のペインにフォーカスが当たるようにした。 [(#1598)](https://github.com/WinMerge/winmerge/issues/1598)

#### フォルダ比較

- 不具合修正: 何も選択されていない状態でShift+F10キーを押下するとクラッシュする問題を修正。
- 不具合修正: WinMergeから作成したZIPファイルに同じファイルが重複して含まれることがあった問題を修正。[(#1588)](https://github.com/WinMerge/winmerge/issues/1588)
- コンテキストメニューに "すべての表示列をコピー" を追加 [(PR #1615)](https://github.com/WinMerge/winmerge/issues/1615)(PRいただきました。ありがとうございます。)

#### HTMLレポート

- 不具合修正: 左右のファイルの内容の表示幅が同じにならないことがある。

#### オプションダイアログ

- 不具合修正: エクスポートされた.iniファイルをインポートしても行フィルタや置換フィルタが復元されない問題を修正。(正常に行フィルタや置換フィルタを復元するには、最新バージョンでエクスポートした.iniファイルを使用する必要があります) [(#1638)](https://github.com/WinMerge/winmerge/issues/1638)
- 変更されたファイルの自動再読み込みオプションを追加 [(PR #1611)](https://github.com/WinMerge/winmerge/pull/1611)

#### その他

- デバッグ用の機能を追加 [(PR #1595)](https://github.com/WinMerge/winmerge/pull/1595)(PRいただきました。ありがとうございます。)

### 2022/11/29 2.16.24-jp-2

#### ファイル比較

- 不具合修正: オプションダイアログの[コードページ]カテゴリで[WinMerge ユーザーインターフェイス言語]を選択した場合、常にデフォルトコードページが1252になってしまう問題を修正。
- 不具合修正: 範囲選択して置換するとすべて置換されないことがある問題を修正。[(#1556)](https://github.com/WinMerge/winmerge/issues/1556)
- 不具合修正: 正規表現を使用した置換でハングすることがある問題を修正。[(#1575)](https://github.com/WinMerge/winmerge/issues/1575)
- ステータスバーのエンコーディング部をクリックしたときに表示されるコードページダイアログの表示を高速化。
- htmlファイルのシンタックスハイライトキーワードを最新化。[(PR #1565)](https://github.com/WinMerge/winmerge/pull/1565)(PRいただきました。ありがとうございます。)
- cssファイルのシンタックスハイライトキーワードを最新化。[(PR #1572)](https://github.com/WinMerge/winmerge/pull/1572)(PRいただきました。ありがとうございます。)
- サイズが大きいファイルの表示速度を改善。[(PR #1574)](https://github.com/WinMerge/winmerge/pull/1574)(PRいただきました。ありがとうございます。)

#### フォルダ比較

- 不具合修正: ファイルやフォルダをコピーするときクラッシュすることがあるのを修正。[(#1558)](https://github.com/WinMerge/winmerge/issues/1558)
- 不具合修正: ツリーモードでフォルダを展開したとき、想定外の位置にスクロールすることがあるのを修正。[(osdn.net #46061)](https://osdn.net/projects/winmerge-jp/ticket/46061)
- 不具合修正: ツリーモードでフォルダを展開したとき、選択した項目が変わってしまうことがあるのを修正。
- 不具合修正: [列の表示]ダイアログでOKボタンを押すとクラッシュすることがある問題を修正。[(PR #1568)](https://github.com/WinMerge/winmerge/pull/1568)(PRいただきました。ありがとうございます。)
- 不具合修正: フォルダ比較レポート内の#や%を含むファイル名のファイル比較レポートへのリンクが正しくない問題を修正。[(osdn.net #46082)](https://osdn.net/projects/winmerge-jp/ticket/46082)
- 不具合修正: フォルダとフォルダ内のファイルを選択して圧縮ファイルを作成すると、圧縮ファイルに同じファイルが含まれてしまう問題を修正。[(#1588)](https://github.com/WinMerge/winmerge/issues/1588)
- 3フォルダー比較で3つ存在しないファイルの「比較結果」列の表示を改善。[(PR #1545)](https://github.com/WinMerge/winmerge/pull/1545)(PRいただきました。ありがとうございます。)

#### バイナリ比較

- 64bit版ではファイルサイズが2GB以上のファイルも開けるようにした。[(PR #1549)](https://github.com/WinMerge/winmerge/pull/1549)

#### インストーラ

- シェルエクステンションの登録等で powershell を起動する際にプルパスで起動するように変更。

#### その他

- pngファイルのサイズを縮小。[(PR #1541)](https://github.com/WinMerge/winmerge/pull/1541)(PRいただきました。ありがとうございます。)
- サイズ最適化のためフィールドを再配置。[(PR #1546)](https://github.com/WinMerge/winmerge/pull/1546)(PRいただきました。ありがとうございます。)
- Diff3.h のリファクタリング。[(PR #1577)](https://github.com/WinMerge/winmerge/pull/1577)(PRいただきました。ありがとうございます。)
- コメントの誤りの修正。[(PR #1578)](https://github.com/WinMerge/winmerge/pull/1578)(PRいただきました。ありがとうございます。)
- 同じファイルを開く場合の処理の最適化。[(PR #1579)](https://github.com/WinMerge/winmerge/pull/1579)(PRいただきました。ありがとうございます。)
- SubeditList.cpp のリファクタリング。[(PR #1580)](https://github.com/WinMerge/winmerge/pull/1580)(PRいただきました。ありがとうございます。)
- unicoder.cpp のリファクタリング。[(PR #1582)](https://github.com/WinMerge/winmerge/pull/1582), [(PR #1584)](https://github.com/WinMerge/winmerge/pull/1584), [(PR #1586)](https://github.com/WinMerge/winmerge/pull/1586)(PRいただきました。ありがとうございます。)
- markdown.cpp のリファクタリング。[(PR #1590)](https://github.com/WinMerge/winmerge/pull/1590)(PRいただきました。ありがとうございます。)

### 2022/10/29 2.16.24-jp-1

#### 全般

- 不具合修正: ジャンプリストに不正なタイトルが含まれる場合、ファイルメニュー表示でクラッシュする問題を修正。 [(osdn.net #45916)](https://osdn.net/projects/winmerge-jp/ticket/45916)

#### ファイル比較

- ステータスバーからエンコーディングダイアログやメニュー表示する操作をダブルクリックからシングルクリックに変更。

#### テーブル比較

- 不具合修正: TSV ファイルがワードラップを有効にしてテーブル表示されている場合、文字をクリックしてもカレットがその文字の位置に移動しないことがあるのを修正。

#### フォルダ比較

- 不具合修正: PDFファイルが画像比較の対象となった場合、フォルダー比較でメモリリークするのを修正。

#### オプションダイアログ

- CPUコアに関する翻訳の改善。[(PR #1513)](https://github.com/WinMerge/winmerge/pull/1513)

#### ファイルまたはフォルダの選択ダイアログ

- 比較前処理プラグインを指定できるようにした。

#### プラグイン

- 不具合修正: プラグインの選択ダイアログ: 「拡張子を無視してすべてのプラグインを表示する」チェックボックスがチェックされていてもすべてのプラグインが表示されなことがあるのを修正。

#### プロジェクトファイル

- 不具合修正: プロジェクトファイルに記録されているファイルパスがURLの場合、比較に失敗するのを修正。
- 以下の項目をプロジェクトファイルに保存できるようにした。
  - 説明
  - ウインドウ種別
  - テーブル区切り文字

#### パッチ生成ダイアログ

- 不具合修正: 生成されたパッチファイルのコマンドライン部が文字化けすることがあるのを修正。[(osdn.net #45935)](https://osdn.net/projects/winmerge-jp/ticket/45935)

#### 翻訳

- 不具合修正: 3つのフォルダー比較で、2つのファイルが同一である場合に表示されるメッセージが翻訳されない問題を修正。 [(PR #1535)](https://github.com/WinMerge/winmerge/pull/1535) (PRいただきました。ありがとうございます。)

#### その他

- 不具合修正: 英語の言い回しを修正。 [(PR #1499)](https://github.com/WinMerge/winmerge/pull/1499) (PRいただきました。ありがとうございます。)
- 不具合修正: README.md のタイポ修正。[(PR #1504)](https://github.com/WinMerge/winmerge/pull/1504) (PRいただきました。ありがとうございます。)
- 不具合修正: lwdisp.c のタイポ修正。 [(PR #1515)](https://github.com/WinMerge/winmerge/pull/1515) (PRいただきました。ありがとうございます。)

### 2022/09/29 2.16.22-jp-2

#### 全般

- 不具合修正: タブバーのタブのタイトルに"&"が含まれる場合に正しく表示されない問題を修正。[(PR #1466)](https://github.com/WinMerge/winmerge/pull/1466) (PRいただきました。ありがとうございます。)
- 不具合修正: ヘッダーバーのメニューのキーボードアクセラレータが機能しない問題を修正。
- 不具合修正: ヘッダーバーのメニューの[選択]をクリックするとクリップボードにパスがコピーされてしまう問題を修正。

#### カラースキーマ

- Midnight カラースキーマの追加 [(PR #1430)](https://github.com/WinMerge/winmerge/pull/1430) (PRいただきました。ありがとうございます。)

#### ファイル比較

- 不具合修正: バックアップ用ディレクトリが自動的に作成されないのを修正。 [(#1438)](https://github.com/WinMerge/winmerge/issues/1438)
- 不具合修正: テキストを選択した状態では右側へコピー等のアイコンがクリックできないのを修正 [(#1507)](https://github.com/WinMerge/winmerge/issues/1507)
- 変更した拡大縮小率を保存するようにした [(#1433)](https://github.com/WinMerge/winmerge/issues/1433)
- 右クリックメニューに[行フィルターに追加する]メニューを追加。[(PR #1481)](https://github.com/WinMerge/winmerge/pull/1481) (PRいただきました。ありがとうございます。)
- SQLファイルのシンタックスハイライトのキーワード追加。[(PR #1493)](https://github.com/WinMerge/winmerge/pull/1493) (PRいただきました。ありがとうございます。)

#### テーブル比較

- 不具合修正: 隠れている行内差異の位置にカレットを移動しても、行内差異の部分が表示されない問題を修正。

#### Webページ比較

- [実験的] テキストの差異を色付け表示する機能を追加 [(PR #1357)](https://github.com/WinMerge/winmerge/pull/1357)

#### フォルダ比較

- 不具合修正: フォルダー比較ウィンドウで読み取り専用になっているにもかかわらず、ファイル名が変更できてしまっていたのを修正。[(PR #1434)](https://github.com/WinMerge/winmerge/pull/1434) (PRいただきました。ありがとうございます。)
- 不具合修正: 「\」または「/」を含むファイル名またはディレクトリ名への名前変更が正しく行われない問題を修正。[(PR #1451)](https://github.com/WinMerge/winmerge/pull/1451) (PRいただきました。ありがとうございます。)
- 不具合修正: 左側フォルダ内のファイル数が右側より少ない場合、左側のフォルダを右側へコピー後(逆も同様)、差異があるにもかかわらず同一と表示されてしまう問題を修正。 [(PR #1495)](https://github.com/WinMerge/winmerge/pull/1495) (PRいただきました。ありがとうございます。)
- 不具合修正: JPEGファイルを含むフォルダを比較するとクラッシュするのを修正。(前のバージョンで修正されていないFreeImageライブラリとリンクしてしまっていた) [(#1176)](https://github.com/WinMerge/winmerge/issues/1176)

#### アーカイブサポート

- 7-Zip 22.01 に更新。 [(#1425)](https://github.com/WinMerge/winmerge/issues/1425)

### 2022/07/29 2.16.22-jp-1

#### 全般

- ヘッダーバーのキャプションを変更できるようにした。[(#1395)](https://github.com/WinMerge/winmerge/issues/1395)

#### ファイル比較

- 不具合修正: 検索ダイアログで「大文字と小文字を区別する」のチェックを外しているにもかかわらず、キリル文字等の大文字小文字を無視して検索できない問題を修正。 [(#1380)](https://github.com/WinMerge/winmerge/issues/1380)
- 不具合修正: 1行が長い場合、矩形選択に時間がかかりすぎる。 [(#1386)](https://github.com/WinMerge/winmerge/issues/1386)
- 不具合修正: 同じ行に複数置換対象がある場合、正規表現による文字列置換が正常に行われない。([#1387](https://github.com/WinMerge/winmerge/issues/1387), [PR #1388](https://github.com/WinMerge/winmerge/pull/1388))
- 行内差異処理の高速化 [(PR #1411)](https://github.com/WinMerge/winmerge/pull/1411) (PRいただきました。ありがとうございます。)

#### フォルダ比較

- 不具合修正: 片側にしか存在しないファイルまたはフォルダーを、同名のファイルまたはフォルダが存在する名前にリネームした場合、比較結果が正しく表示されない問題を修正。[(PR #1392)](https://github.com/WinMerge/winmerge/pull/1392) (PRいただきました。ありがとうございます。)
- 不具合修正: フォルダ比較完了後ステータスバーに「経過時間」が表示されなくなっていたのを修正。
- 不具合修正: フォルダ比較ウィンドウでフォルダの名前を変更した後、フォルダ内の項目のフォルダ列が更新されない問題を修正。[(PR #1408)](https://github.com/WinMerge/winmerge/pull/1408) (PRいただきました。ありがとうございます。)

#### オプションダイアログ

- プロジェクトカテゴリに非表示の項目を追加。[(PR #1377)](https://github.com/WinMerge/winmerge/pull/1377) (PRいただきました。ありがとうございます。)

#### プラグイン

- wsc拡張子のプラグインに対応 [(PR #1390)](https://github.com/WinMerge/winmerge/pull/1390) (PRいただきました。ありがとうございます。)

#### プロジェクトファイル

- プロジェクトファイルに非表示項目を保存できるようにした。[(PR #1377)](https://github.com/WinMerge/winmerge/pull/1377) (PRいただきました。ありがとうございます。)

### 2022/06/29 2.16.20-jp-4

#### ファイル比較

- 不具合修正: .sql ファイル内のコメント(--)がコメントの色にならないのを修正。[(#1354)](https://github.com/WinMerge/winmerge/issues/1354)
- 不具合修正: オプションダイアログで[行内差異の色付け]で[単語単位]を選んでいるにもかかわらず、キリル文字を含む行の行内差異が単語単位でハイライトされないのを修正。[(#1362)](https://github.com/WinMerge/winmerge/issues/1362)
- 不具合修正: [置換]ダイアログで置換後の文字列に検索する文字列が含まれ、[選択範囲]を選択した場合、[すべて置換]を押下すると、1つしか置換されないのを修正。[(#1376)](https://github.com/WinMerge/winmerge/issues/1376)

#### バイナリ比較

- [表示]→[垂直分割]メニューのチェックを外して上下分割表示ができるようにした。

#### 画像比較

- [表示]→[垂直分割]メニューのチェックを外して上下分割表示にしたにもかかわらず、次回比較時元に戻ってしまうのを修正。

#### Webページ比較

- [表示]→[垂直分割]メニューのチェックを外して上下分割表示にしたにもかかわらず、次回比較時元に戻ってしまうのを修正。

#### フォルダ比較

- 不具合修正: フォルダ比較後、外部アプリケーションでファイル名を大文字↔小文字に変更した後、[選択項目を最新に更新]メニューで該当ファイルを更新してもファイル名の変更が反映されないのを修正。[(#1358)](https://github.com/WinMerge/winmerge/pull/1358)(PRいただきました。ありがとうございます。)
- 不具合修正: 3フォルダ比較時、ファイル名が大文字/小文字のみ異なる場合に正しく表示されないのを修正。[(#1372)](https://github.com/WinMerge/winmerge/pull/1372)(PRいただきました。ありがとうございます。)
- フォルダを複数選択して[非水平的に比較する]メニューを選択したとき、[サブフォルダーを含める]オプションが有効ならば別タブでフォルダを比較するようにした。[(#1367)](https://github.com/WinMerge/winmerge/issues/1367)

#### 設定ログ

- 不具合修正: Windows 11 にもかかわらず、[ヘルプ]→[設定ログ]メニューで表示される内容に Windows 10 と表示されるのを修正。[(#1192)](https://github.com/WinMerge/winmerge/issues/1192)

#### プラグイン

- 不具合修正: CompareMSExcelFilesプラグイン: 設定ダイアログの[画像分割サイズ]でCtrl+V等のクリップボード操作ができるようにした。また数値以外が入力できてしまうことがあったのを修正。[(#1374)](https://github.com/WinMerge/winmerge/pull/1374)(PRいただきました。ありがとうございます。)

#### アーカイブサポート

- 7-Zip 22.00 に更新

#### コマンドライン

- 不具合修正: ファイルを3つ指定しないと機能しないコマンドラインオプション(`/al`, `/am`, `/ar`)を2つのファイル指定と共に使用するとクラッシュするのを修正。[(#1363)](https://github.com/WinMerge/winmerge/issues/1363)

#### その他

- diffutils で islower()+toupper() の代わりに isupper()+tolower() を使用。 [(PR #1351)](https://github.com/WinMerge/winmerge/pull/1351) (PRいただきました。ありがとうございます。)
- diff.h で定義されている変数の初期化を追加。[(PR #1360)](https://github.com/WinMerge/winmerge/pull/1360) (PRいただきました。ありがとうございます。)
- SuperComboBox.cpp 内のタイポ修正。[(PR #1379)](https://github.com/WinMerge/winmerge/pull/1379) (PRいただきました。ありがとうございます。)

### 2022/05/29 2.16.20-jp-2

#### 全般

- 不具合修正: Event ID 78 のサイドバイサイドエラーが発生する可能性があるのを修正。[(#1312)](https://github.com/WinMerge/winmerge/issues/1312)

#### ファイル比較

- 不具合修正: 行内差異単位の[左側/右側にコピー]が想定通りに動作しないのを修正。[(#1334)](https://github.com/WinMerge/winmerge/issues/1334)
- ロケーションペインでマウスホイール操作したとき、エディタウインドウをスクロールするようにした。
- ファイルのバックアップに失敗したとき、バックアップ先のファイル名も表示するようにした。 [(#1326)](https://github.com/WinMerge/winmerge/issues/1326)
- ABAP の言語のシンタックスハイライトができるようにした。[(#1340)](https://github.com/WinMerge/winmerge/issues/1340)(PRいただきました。ありがとうございます。)
- diff アルゴリズムに none を追加。(行の挿入・削除検出を行わず、行を上から順に愚直に比較するアルゴリズムです。)

#### 画像比較

- 挿入/削除検出を有効にした時に、patience や histogram diff アルゴリズムを適用できるようにした。	

#### Webページ比較

- 不具合修正: アドレスバーでKキーを押すとテキストが消えてしまうのを修正
- リソースツリー比較で展開した各ファイルの更新日時を展開した日時ではなく、そのリソースの日時になるようにした。

#### フォルダ比較

- 不具合修正: Alt+↓キーで差異のある項目に移動後、Shift+矢印キーで選択範囲を広げようとすると、想定外の範囲となってしまうのを修正。[(#1335)](https://github.com/WinMerge/winmerge/issues/1335)
- 不具合修正: フォルダ比較を比較途中で停止した後、[選択項目を最新に更新]メニューで選択項目を更新すると、比較結果が確定していないフォルダのアイコンが同一または差異のアイコンになってしまうのを修正。[(#1349)](https://github.com/WinMerge/winmerge/issues/1349)
- エクスプローラと同様に番号を含むファイル名のソート順が数値の大きさ順になるようにした。[osdn.net #44557](https://osdn.net/projects/winmerge-jp/ticket/44557)

#### HTMLレポート

- 不具合修正: ファイル比較レポートの生成時に、ファイル名によって WinMerge がクラッシュする問題を修正。[(PR #1319)](https://github.com/WinMerge/winmerge/pull/1319) (PRいただきました。ありがとうございます。)
- 不具合修正: 3つのフォルダのフォルダ比較レポートのタイトルに、中央フォルダが出力されない問題を修正。[(PR #1324)](https://github.com/WinMerge/winmerge/pull/1324) (PRいただきました。ありがとうございます。)
- 不具合修正: ファイル比較レポートで行内の文字数が少ないときに、行番号列の幅が広くなりすぎるのを修正。[(PR #1333)](https://github.com/WinMerge/winmerge/pull/1333) (PRいただきました。ありがとうございます。)
- 不具合修正: フォルダ比較レポートでファイル名フィールドが "TEST.TXT|test.txt|\<None\>"のように"\<None\>"を含む場合、"\<None\>" の部分が正しく生成されない問題を修正。[(PR #1344)](https://github.com/WinMerge/winmerge/pull/1344) (PRいただきました。ありがとうございます。)

#### シェルエクステンション

- 不具合修正: Windows11のシェルエクステンション: [その他のオプションを表示]で表示されるWinMergeのメニューが[拡張メニューを有効にする]にチェックをしているにもかかわらず、拡張メニューにならないのを修正。
- 不具合修正: Windows11のシェルエクステンション: エクスプローラのコンテキストメニューからWinMergeを起動したとき、タスクバーにアイコンが表示されないのを修正。

#### プラグイン

- 不具合修正: CompareMSExcelFiles プラグインのプラグイン設定で「ワークブックの情報を複数ファイルに展開する 」オプションが有効になっているにもかかわらず、メニュー項目「プラグイン]→[展開プラグインで開く]から .xlsx ファイルを開いたとき、複数ファイルに展開されない問題を修正。[osdn.net #44522](https://osdn.net/projects/winmerge-jp/ticket/44522)
- 不具合修正: プラグインの選択ダイアログ: [展開プラグイン適用後、ファイルを同じウインドウタイプで開く]チェックボックスをチェックしても、次にダイアログを開いた時にはチェックされていない不具合を修正。
- プラグイン選択ダイアログのサイズを変更できるようにした。[(#1308)](https://github.com/WinMerge/winmerge/issues/1308)

#### インストーラ

- インストーラ終了時、何らかの原因でエクスプローラの再起動に失敗していた場合、エクスプローラを起動するようにした。

#### マニュアル

- UI、Readme、マニュアルの日本語の修正。[(PR #11)](https://github.com/sdottaka/winmerge-v2-jp/pull/11) (PRいただきました。ありがとうございます。)

#### その他

- タイポ修正。[(PR #1313)](https://github.com/WinMerge/winmerge/pull/1313) (PRいただきました。ありがとうございます。)
- ソースコード内のコメントで「GNU General Public License」 が 「GNU DIFF General Public License」になっていたのを修正。[(PR #1342)](https://github.com/WinMerge/winmerge/pull/1342) (PRいただきました。ありがとうございます。)

### 2022/04/29 2.16.20-jp-1

#### 全般

- ファイル名が長いとタブの右側に表示される「(U)」、「(F)」が表示されなくなってしまうため、左側に表示するようにした。[(#1281 a))](https://github.com/WinMerge/winmerge/issues/1281)

#### ファイル比較

- 不具合修正: 使用しているフォントによっては、タブを含む行でカレットが正しい位置に表示されないことがあるのを修正。
    [(osdn.net #44417)](https://osdn.net/projects/winmerge-jp/ticket/44417)

#### Webページ比較

- Webページ比較 \[実験的\] [(PR #1182)](https://github.com/WinMerge/winmerge/pull/1182)
  - WebView2 ランタイムが必要です。
  - Windows 10 以上でのみ動作します。
  - 現在、Webページ上で直接差異を強調表示することはできませんが、2つまたは3つのWebページを並べて表示できます。表示したWebページの以下の内容を比較することが可能です。
    - スクリーンショット
    - HTMLコンテンツ
    - 抽出したテキスト
    - リソースツリー

#### フォルダ比較

- 不具合修正: 3つのディレクトリを比較する場合にフォルダ比較ウィンドウで大文字と小文字が異なる項目が正しく表示されない不具合を修正。
    [(PR #1299)](https://github.com/WinMerge/winmerge/pull/1299) (PRいただきました。ありがとうございます。)

#### オプションダイアログ

- オプションダイアログを縦方向にも広げられるようにした。[(#1265)](https://github.com/WinMerge/winmerge/issues/1265)

#### プラグイン

- 不具合修正: CompareMSExcelFiles.sct: ExcelファイルとCSVファイルを比較した場合、CSVファイルに含まれる日付データが現在のロケールで解釈されないのを修正
    [(#1279)](https://github.com/WinMerge/winmerge/issues/1279)
- Replace プラグイン: `-e`オプションによる正規表現置換で、2番目の引数に含まれる `\r`や`\n`が制御文字CRとLFとして扱われるようにした。
- PrettifyHTML プラグイン: デフォルトプラグイン引数に `--tidy-mark no` を追加し、tidy-html5 のMETAタグが挿入されないようにした。

#### コマンドライン

- コマンドラインオプション `/t webpage` を追加。

#### マニュアル

- 不具合修正: SelectLines プラグインのオプションに記載されている `-g` オプションは指定しても意味はないので削除した。[(#1309)](https://github.com/WinMerge/winmerge/issues/1309)

#### その他

- 最適化、リファクタリング。[(PR #1304)](https://github.com/WinMerge/winmerge/pull/1304)(PRいただきました。ありがとうございます。)
- Windows 10 SDK version 10.0.19041.0 以下でビルドするとリンクエラーが発生するのを修正。

### 2022/03/29 2.16.18-jp-3

#### 全般

- タイポ修正、一部ショートカットキーの表示がないメニュー等の修正。[(PR #1219)](https://github.com/WinMerge/winmerge/pull/1219) (PRいただきました。ありがとうございます。)

#### ファイル比較

- 不具合修正: `/x` や `/xq` 等のコマンドラインオプションを指定しているにもかかわらず、サイズが大きいファイルを比較する場合にファイルが一致していてもWinMergeが終了する動作になっていなかったのを修正。[(#1218)](https://github.com/WinMerge/winmerge/issues/1218)
- 不具合修正: [移動ブロック検出を有効にする]オプションを有効にしている場合、[右側/左側にコピーして次に進む]メニューまたはツールバーのアイコンをクリックすると差異が一つスキップされてしまうことがあるのを修正。[(#1235)](https://github.com/WinMerge/winmerge/issues/1235)
- [表示]→[上マージンを表示]メニューを追加。上マージンにはルーラーが表示されます。

#### テーブル比較

- ヘッダー部を右クリックしたときにコンテキストメニューが表示されるようにし、[最初の行をヘッダーとして使用する]メニューを選択した場合、ヘッダー部に最初の行を列名とみなして表示するようにした。[(#999)](https://github.com/WinMerge/winmerge/issues/999)
- [ファイル]→[形式を指定して再比較]→[テーブル]メニューで区切り文字を再指定できるようにした。

#### フォルダ比較

- ファイルを他方にしか存在しないフォルダと同じ名前に変更した場合に結果が正しく表示されない問題を修正。(逆も同様)[(PR #1246)](https://github.com/WinMerge/winmerge/pull/1246) (PRいただきました。ありがとうございます。)

#### アーカイブサポート

- 拡張子はzip等だがファイルの内容は圧縮ファイルではない等で圧縮ファイルの展開に失敗した場合、テキストファイルとして比較できるようにした。[(#1020)](https://github.com/WinMerge/winmerge/issues/1020)

#### プラグイン

- [ファイルまたはフォルダの選択]ウインドウ等でファイル名の替わりにURLを指定したときにそのURLを処理できるプラグインを追加。[(PR #1270)](https://github.com/WinMerge/winmerge/pull/1270)
  - HandleSchemeHTTP プラグイン (`https://winmergejp.bitbucket.io/` の様に指定すると curlコマンドを使用してリクエスト結果を表示します。curlコマンドを使用しているため、curlコマンドがインストールされている必要があります。Windows10 1803以降はcurlコマンドが標準でインストールされています。)
  - HandleSchemeReg プラグイン (`reg:HKEY_CURRENT_USER\Software\Thingamahoochie\WinMerge` の様に指定すると`reg:`の後をレジストリーキーとみなしてレジストリデータを表示します。)

#### オプションダイアログ

- 不具合修正: 文字が欠けて表示される箇所を修正。[(#1212)](https://github.com/WinMerge/winmerge/issues/1212)

#### その他

- ソースコードのコメント内のタイポ修正。[(PR #1256)](https://github.com/WinMerge/winmerge/pull/1256) (PRいただきました。ありがとうございます。)
- 最適化、リファクタリング。[(PR #1258)](https://github.com/WinMerge/winmerge/pull/1258) (PRいただきました。ありがとうございます。)

### 2022/02/28 2.16.18-jp-2

#### 全般

- 不具合修正: [オプション]ウインドウの[メッセージボックス]カテゴリや[プラグイン]ウインドウのリストビューのツールチップが途中で切れることがあるのを修正。[(#1210)](https://github.com/WinMerge/winmerge/issues/1210)
- 「すべてを右側にコピー」、「すべてを左側にコピー」メニューに対応するツールバーのアイコンのツールチップが「右側すべて」、「左側すべて」となっていたのをメニューと同じになるように修正。

#### ファイル比較

- 不具合修正: [類似行をマッチさせる]オプションを有効にしたとき、空白の無視設定によっては期待通り動作しないことがあるのを修正。[(#1209)](https://github.com/WinMerge/winmerge/issues/1209)
- 不具合修正: F4キーによる行内差異選択が正しく動作しないことがあるのを修正。

#### フォルダ比較

- 不具合修正: フォルダ比較レポートにリンクしているファイル比較レポートがファイル名によっては別のものに置き換わってしまう可能性があるのを修正。 [(PR #1171)](https://github.com/WinMerge/winmerge/pull/1171) (PRいただきました。ありがとうございます。)
- 不具合修正: 同じ名前のフォルダとファイルを選択して「選択項目を最新に更新」メニューをクリックすると、比較結果が正しく表示されない問題を修正。 [(PR #1189)](https://github.com/WinMerge/winmerge/pull/1189) (PRいただきました。ありがとうございます。)
- 不具合修正: 複数ファイルやフォルダを選択しているにもかかわらず、ステータスバーに「0個の項目を選択」と表示されてしまうことがある問題を修正。
- 不具合修正: [オプション]ウインドウの[比較/画像]カテゴリの[フォルダー比較で画像比較を有効にする]にチェックしてフォルダ内の画像を比較した場合、複数ページある画像ファイルで差異があるにもかかわらず、最後のページに差異がないとそのファイルには差異がないとみなしてしまう問題を修正。
- 不具合修正: [オプション]ウインドウの[比較/画像]カテゴリの[フォルダー比較で画像比較を有効にする]にチェックしてフォルダ内の画像を比較するとクラッシュすることがある問題を修正。[(#1176)](https://github.com/WinMerge/winmerge/issues/1176)
- ファイルフィルタの拡張 [(PR #1179)](https://github.com/WinMerge/winmerge/pull/1179)
  - その1: [ファイルまたフォルダーの選択]ウインドウの[フォルダー:フィルター]で`!*.bak`のように前に「!」を付けた場合、パターンにマッチしたファイルを無視するようにした。また、`!.git\`のように末尾に「\」をつけた場合、フォルダにマッチするパターンとみなすようにした。この例では、`.git` フォルダを無視して比較します。
  - その2: ファイルフィルタファイル(.fltファイル)で `f:`や`d:`に指定したパターンにマッチしたファイルまたはフォルダの一部を除外する指定 `f!:` と `d!:` を追加した。

#### プラグイン

- 不具合修正: [プラグインの選択]ウインドウで[パイプを追加]ボタンを押すと指定したプラグイン引数が消えてしまうのを修正

### 2022/01/29 2.16.18-jp-1

#### 全般

- 不具合修正: Googleドライブのファイルを比較するとクラッシュすることがある。
- タブバーのツールチップにフルパス名、使用しているプラグイン、行フィルタ等で無視されている行があるかどうかを表示するようにした。 [(#960)](https://github.com/WinMerge/winmerge/issues/960)
- Contributors.txt に漏れていた人の名前を追加 [(PR #1094)](https://github.com/WinMerge/winmerge/pull/1094)
- View→Select Fontメニュー項目から表示されるフォント選択ダイアログを表示している間は、親ウィンドウを操作できないようにしました。

#### ファイル比較

- 不具合修正: オプションダイアログの[色/差異]カテゴリで単語の差異のテキストの色を指定しても反映されなかった。 [(#1116)](https://github.com/WinMerge/winmerge/issues/1116)
- [行を右端で折り返す]を有効にしている場合、非常に長い行があるとハングアップしているように見えるほど遅くなることがあるのを少し改善した。 [(#1111)](https://github.com/WinMerge/winmerge/issues/1111)
- ステータスバーのエンコーディングをダブルクリックした時、表示されるコードページウインドウの[反映先]がダブルクリックした側のペインだけチェックが付くようにした。 [(#793)](https://github.com/WinMerge/winmerge/issues/793)

#### クリップボード比較

- 新機能: クリップボード比較 [(PR #1147)](https://github.com/WinMerge/winmerge/pull/1147)
  - [ファイル]→[クリップボードを開く]メニューを選択すると、クリップボード履歴の直近の2つの内容を比較することができるようになりました。
  - 子MDIウィンドウが表示されていないときにCtrl+Vキーを押しても比較できます。
  - この機能は、Windows 10 version 1809 以降と WinMerge 64bit版でのみ有効です。

#### フォルダ比較

- 不具合修正: 3フォルダ比較時、比較結果列のソート順が2フォルダ比較と異なっていた。 [(#483)](https://github.com/WinMerge/winmerge/issues/483)
- 不具合修正: フォルダー比較ウィンドウで "選択された項目を更新 "を実行すると WinMerge がクラッシュする場合があった。 [(PR #1120)](https://github.com/WinMerge/winmerge/pull/1120) (PRいただきました。ありがとうございます。)
- 不具合修正: 非再帰的比較時、親フォルダへ移動するアイコンが表示されなかった。
- 不具合修正: 以前のバージョンと異なりソート順が逆になっていた。

#### プラグイン

- [その他のプラグイン]メニューの名前をを[すべてのプラグイン]に変更。 [(#1139,PR #1140)](https://github.com/WinMerge/winmerge/pull/1140) (PRいただきました。ありがとうございます。)
- プラグインの説明を翻訳可能にした。
- Apache Tika のバージョンを 2.2.1 に更新。

#### コマンドライン

- クリップボード比較のコマンドラインオプション(`/clipboard-compare`)を追加

#### アーカイブサポート

- 7-Zip 21.07 に更新。

#### インストーラ

- 不具合修正: ReadMe.txtのクイックスタートのリンクが間違っていた。 [(#1127)](https://github.com/WinMerge/winmerge/issues/1127)
- 不具合修正: 32bit版のWinMergeインストール後、64bit版のWinMergeを上書きインストールすると 7z.dll が上書きされなかった。
- Windows11ではWindows11向けシェルエクステンションをインストールするようにした。

#### マニュアル

- 不具合修正: 「4.8 クイック比較切替閾値」と「4.9 バイナリ比較切替閾値」の説明が間違っていたのを修正。 [(#1100)](https://github.com/WinMerge/winmerge/issues/1100)

#### 内部変更

- DirScan.cpp のタイポ修正 [(PR #1118)](https://github.com/WinMerge/winmerge/pull/1118) (PRいただきました。ありがとうございます。)

